App\Entity\Group:

  attributes:
    normalization_context:
      groups: [group_read]

  collectionOperations:

    get:
      method: GET
#      security: is_granted("USER_READ")
#      security_message: 'Wrong Permissions, You can not get the Users'

    create:
      method: POST
      path: /groups/create
      controller: App\Api\Action\Group\Create
      denormalization_context:
        groups: [ group_create ]
      #      security_post_denormalize: is_granted("PHOTO_UPLOAD", object)
      #      security_post_denormalize_message: 'Wrong Permissions, You can not create a Photo'
      openapi_context:
        summary: Upload a new Photo

  itemOperations:
    get:
      method: GET
#      security: is_granted("PHOTO_READ")
#      security_message: 'Wrong Permissions, You can not get this Photo'

    put:
      method: PUT
#        security: is_granted("PHOTO_UPDATE")
#        security_message: 'Wrong Permissions, You can not update this Photo'
      denormalization_context:
        groups: [ photo_update ]

    delete:
      method: DELETE
#      security: is_granted("PRODUCT_DELETE")
#      security_message: 'Wrong Permissions, You can not delete this Photo'

  properties:
    photos:
      subresource:
        resourceClass: App\Entity\Photo
        collection: true
        maxDepth: 1
    owner:
      subresource:
        resourceClass: App\Entity\User
        collection: true
        maxDepth: 1